#!/usr/bin/env ruby

require "optparse"
require "readline"

options = {}
parser = OptionParser.new do |parser|
  parser.banner = "Usage: #{$0} <command> [options]"
  parser.on "-h", "--help", "Get help" do
    puts parser
    exit
  end
end
parser.parse!

command = ARGV.shift

case command
when "login"
  usage_message = "Usage: #{$0} login <your login>"
  login = ARGV.shift or abort usage_message
  puts "Enter your password:"
  password = ::Readline.readline("> ") or abort "No password given"
else
  puts "I don't know how to #{command}"
  abort
end
